services:
  dense_1:
    build:
      context: ./containers/Dense
    entrypoint: watchmedo auto-restart --pattern "*.py" --recursive --signal SIGTERM
      --directory "/home/app" python3 /home/app/server.py
    environment:
    - BACKWARD_URL=0.0.0.0
    - BACKWARD_PORT=43839
    - FORWARD_URL=0.0.0.0
    - FORWARD_PORT=45023
    ports:
    - 8765:48281
    - 8766:41893
    volumes:
    - /home/maat1/Documents/cs4099/papdl-root/tests/naturalisation/volumes/dense_1/model:/home/model
    - /home/maat1/Documents/cs4099/papdl-root/tests/naturalisation/containers/Dense/app:/home/app
  dense_2:
    build:
      context: ./containers/Dense
    entrypoint: watchmedo auto-restart --pattern "*.py" --recursive --signal SIGTERM
      --directory "/home/app" python3 /home/app/server.py
    environment:
    - BACKWARD_URL=0.0.0.0
    - BACKWARD_PORT=41893
    - FORWARD_URL=0.0.0.0
    - FORWARD_PORT=59759
    ports:
    - 8765:45023
    - 8766:60883
    volumes:
    - /home/maat1/Documents/cs4099/papdl-root/tests/naturalisation/volumes/dense_2/model:/home/model
    - /home/maat1/Documents/cs4099/papdl-root/tests/naturalisation/containers/Dense/app:/home/app
  dense_3:
    build:
      context: ./containers/Dense
    entrypoint: watchmedo auto-restart --pattern "*.py" --recursive --signal SIGTERM
      --directory "/home/app" python3 /home/app/server.py
    environment:
    - BACKWARD_URL=0.0.0.0
    - BACKWARD_PORT=60883
    - FORWARD_URL=0.0.0.0
    - FORWARD_PORT=41503
    ports:
    - 8765:59759
    - 8766:45711
    volumes:
    - /home/maat1/Documents/cs4099/papdl-root/tests/naturalisation/volumes/dense_3/model:/home/model
    - /home/maat1/Documents/cs4099/papdl-root/tests/naturalisation/containers/Dense/app:/home/app
  orchestrator:
    build:
      context: Orchestrator
    entrypoint:
    - watchmedo auto-restart --pattern "*.py" --recursive --signal SIGTERM --directory
      "/home/app" python3 /home/app.server.py
    environment:
    - FORWARD_URL=0.0.0.0
    - FORWARD_PORT=48281
    - BACKWARD_URL=0.0.0.0
    - BACKWARD_PORT=45711
    ports:
    - 8765:41503
    - 8766:43839
    volumes: []
version: '3.3'
